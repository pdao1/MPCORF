<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Multi-Purpose Charge-Off Request Form for BRN: 001</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
		<link href="https://cdn.jsdelivr.net/npm/daisyui@2.51.5/dist/full.css" 	rel="stylesheet" type="text/css" />
		<link href="style.css" rel="stylesheet" type="text/css">
<!-- 		<script type="text/javascript" href="./main.js"></script> -->
	<!-- Test Function -->
		<script src="./testForm.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js" integrity="sha512-03CCNkeosDFN2zCCu4vLpu3pJfZcrL48F3yB8k87ejT+OVMwco7IH3FW02vtbGhdncS6gyYZ/duYaC/K62xQPQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	</head>
  <body>
<div class="container-fluid mx-auto mb-5 hero-content header">
    <div class="max-w-3xl top-0 text-center border-b border-slate-700">
      <h1 class="text-2xl font-bold">MULTI-PURPOSE CHARGE-OFF REQUEST FORM</h1>
      <p class="my-6" id="time"><strong>Today </strong>is <span id="current-time"></span></p>
  	</div>
</div>
<div class="container mx-auto px-4 max-w-screen-2xl">
 <form action="/submit" method="post" id="form">
	<div class="row">
	<div class="form-control">
		<div class="columns-4 drop-shadow-lg">
			<label class="label">
    Your Location
			</label>
<select class="select input fhb-outline-tertiary" name="location" id="location-select" style="width: 220px">
<option value="00177 Main Banking Center">00177 Main Banking Center</option>
<option value="00177 Main Banking Region">00177 Main Banking Region</option>
<option value="00200 Dededo Branch">00200 Dededo Branch</option>
<option value="00300 Maite Banking Center">00300 Maite Banking Center</option>
<option value="00350 EOS-MPC Maite">00350 EOS-MPC Maite</option>
<option value="00400 Kamuela Branch">00400 Kamuela Branch</option>
<option value="00500 Makiki Banking Center">00500 Makiki Banking Center</option>
<option value="00700 Lahaina Branch">00700 Lahaina Branch</option>
<option value="00900 Kapahulu Branch">00900 Kapahulu Branch</option>
<option value="01000 Hawaii Kai Branch">01000 Hawaii Kai Branch</option>
<option value="01200 Oleai Branch">01200 Oleai Branch</option>
<option value="01325 Corporate Banking Division">01325 Corporate Banking Division</option>
<option value="01700 Gualo Rai Branch">01700 Gualo Rai Branch</option>
<option value="02000 Hilo Branch">02000 Hilo Branch</option>
<option value="02050 Pahoa Branch">02050 Pahoa Branch</option>
<option value="02100 Kahului Banking Center">02100 Kahului Banking Center</option>
<option value="02200 Kealakekua Branch">02200 Kealakekua Branch</option>
<option value="02300 Koloa Branch">02300 Koloa Branch</option>
<option value="02400 Lanai Branch">02400 Lanai Branch</option>
<option value="02600 Haleiwa Branch">02600 Haleiwa Branch</option>
<option value="02700 Wailuku Branch">02700 Wailuku Branch</option>
<option value="02800 Waimea Branch">02800 Waimea Branch</option>
<option value="03000 Lihue Banking Center">03000 Lihue Banking Center</option>
<option value="03100 Waikiki Banking Center">03100 Waikiki Banking Center</option>
<option value="03200 Kaimuki Branch">03200 Kaimuki Branch</option>
<option value="03500 Tamuning Branch">03500 Tamuning Branch</option>
<option value="03600 Kailua Banking Center">03600 Kailua Banking Center</option>
<option value="03800 Kahuku Branch">03800 Kahuku Branch</option>
<option value="03900 Wahiawa Branch">03900 Wahiawa Branch</option>
<option value="04000 EOS-Commercial Loan Center">04000 EOS-Commercial Loan Center</option>
<option value="04100 Pukalani Branch">04100 Pukalani Branch</option>
<option value="04200 Mililani Banking Center">04200 Mililani Banking Center</option>
<option value="04400 Manoa Branch">04400 Manoa Branch</option>
<option value="04500 Kahala Banking Center">04500 Kahala Banking Center</option>
<option value="04800 University Banking Center">04800 University Banking Center</option>
<option value="04900 Kalihi Banking Center">04900 Kalihi Banking Center</option>
<option value="05100 Kapaa Branch">05100 Kapaa Branch</option>
<option value="05300 Kapolei Branch">05300 Kapolei Branch</option>
<option value="05600 Liliha Branch">05600 Liliha Branch</option>
<option value="05800 Kahana Branch">05800 Kahana Branch</option>
<option value="05900 Waipahu Banking Center">05900 Waipahu Banking Center</option>
<option value="06100 FHB Direct">06100 FHB Direct</option>
<option value="06500 Kapiolani Banking Center">06500 Kapiolani Banking Center</option>
<option value="06500 Kapiolani Banking Region">06500 Kapiolani Banking Region</option>
<option value="06600 Kaneohe Branch">06600 Kaneohe Branch</option>
<option value="06700 Kona Banking Center">06700 Kona Banking Center</option>
<option value="06800 Waikoloa Branch">06800 Waikoloa Branch</option>
<option value="06900 Kaneohe Bay Branch">06900 Kaneohe Bay Branch</option>
<option value="07100 Hawaii Dealer Div - Indirect">07100 Hawaii Dealer Div - Indirect</option>
<option value="07120 Western Region Dealer Center">07120 Western Region Dealer Center</option>
<option value="07140 Dealer Division">07140 Dealer Division</option>
<option value="07300 Commercial Real Estate Div">07300 Commercial Real Estate Div</option>
<option value="07800 Ewa Beach Branch">07800 Ewa Beach Branch</option>
<option value="07900 Aina Haina Banking Center">07900 Aina Haina Banking Center</option>
<option value="08100 Pearlridge Banking Center">08100 Pearlridge Banking Center</option>
<option value="08200 Kihei Branch">08200 Kihei Branch</option>
<option value="08300 Pearl City Branch">08300 Pearl City Branch</option>
<option value="08400 Princeville Branch">08400 Princeville Branch</option>
<option value="08600 Waianae Branch">08600 Waianae Branch</option>
<option value="09000 Waiakea Banking Center">09000 Waiakea Banking Center</option>
<option value="09500 EOS-Money Processing Center">09500 EOS-Money Processing Center</option>
<option value="09520 EOS-MPC Hilo">09520 EOS-MPC Hilo</option>
<option value="09521 EOS-MPC Kahului">09521 EOS-MPC Kahului</option>
<option value="09530 EOS-MPC Lihue">09530 EOS-MPC Lihue</option>
<option value="09567 EOS-MPC Kona">09567 EOS-MPC Kona</option>
<option value="09700 Guam - Dealer Center">09700 Guam - Dealer Center</option>
<option value="09800 Moanalua Banking Center">09800 Moanalua Banking Center</option>
<option value="15003 Chairman's Office">15003 Chairman's Office</option>
<option value="15005 Fraud Department">15005 Fraud Department</option>
<option value="15008 Private Banking Division">15008 Private Banking Division</option>
<option value="15011 BSA Division">15011 BSA Division</option>
<option value="15040 Compliance Group">15040 Compliance Group</option>
<option value="15050 Corporate Compliance Division">15050 Corporate Compliance Division</option>
<option value="15200 Managed Assets Department">15200 Managed Assets Department</option>
<option value="15210 Risk Management Group">15210 Risk Management Group</option>
<option value="15220 Enterprise Risk">15220 Enterprise Risk</option>
<option value="15301 Credit Analytics & Reporting">15301 Credit Analytics & Reporting</option>
<option value="15303 Operational Risk">15303 Operational Risk</option>
<option value="15304 Data Services Center">15304 Data Services Center</option>
<option value="15901 Audit Division">15901 Audit Division</option>
<option value="20320 Business Services Support Dept">20320 Business Services Support Dept</option>
<option value="20330 BankCard Center">20330 BankCard Center</option>
<option value="20350 Corporate Card Department">20350 Corporate Card Department</option>
<option value="20400 Card Services Division">20400 Card Services Division</option>
<option value="20505 Wholesale Banking Group">20505 Wholesale Banking Group</option>
<option value="20600 Digital Bkng & Marketing Group">20600 Digital Bkng & Marketing Group</option>
<option value="20601 Consumer Products Division">20601 Consumer Products Division</option>
<option value="20602 Residential RE Div Compliance">20602 Residential RE Div Compliance</option>
<option value="20605 Appraisal Department">20605 Appraisal Department</option>
<option value="20606 RE Fulfillment Center">20606 RE Fulfillment Center</option>
<option value="20608 Mortgage Service Center">20608 Mortgage Service Center</option>
<option value="20610 Residential Real Estate Div">20610 Residential Real Estate Div</option>
<option value="20611 Mortgage Banking Department">20611 Mortgage Banking Department</option>
<option value="20615 Residential RE Systems">20615 Residential RE Systems</option>
<option value="20630 Cons Banking Compliance Dept">20630 Cons Banking Compliance Dept</option>
<option value="20635 Investor Management Department">20635 Investor Management Department</option>
<option value="20640 Commercial Income Property Dpt">20640 Commercial Income Property Dpt</option>
<option value="20660 Compliance RE Lending Support">20660 Compliance RE Lending Support</option>
<option value="20680 Wholesale Mortgage Loan Dept">20680 Wholesale Mortgage Loan Dept</option>
<option value="20800 Guam - Consumer Service Ctr">20800 Guam - Consumer Service Ctr</option>
<option value="21201 Trade Finance Dept">21201 Trade Finance Dept</option>
<option value="22102 Credit Department">22102 Credit Department</option>
<option value="22106 Loan Recovery Department">22106 Loan Recovery Department</option>
<option value="22107 Credit Operations & Files">22107 Credit Operations & Files</option>
<option value="22401 Credit Administration Division">22401 Credit Administration Division</option>
<option value="30001 Enterprise Technology Mgt">30001 Enterprise Technology Mgt</option>
<option value="30301 Treasury & Investment Division">30301 Treasury & Investment Division</option>
<option value="30302 EOS-Wire Transfer Department">30302 EOS-Wire Transfer Department</option>
<option value="30602 Treasury Management Servicing">30602 Treasury Management Servicing</option>
<option value="30603 Application Development Dept">30603 Application Development Dept</option>
<option value="30604 Security Department">30604 Security Department</option>
<option value="30605 EOS-Records Management Dept">30605 EOS-Records Management Dept</option>
<option value="30606 Legal & Corporate Svcs Group">30606 Legal & Corporate Svcs Group</option>
<option value="30608 IT Infrastructure Department">30608 IT Infrastructure Department</option>
<option value="30610 Call Center">30610 Call Center</option>
<option value="30616 Data Operations">30616 Data Operations</option>
<option value="30619 Enterprise Info Sec Department">30619 Enterprise Info Sec Department</option>
<option value="30620 Identity Access Management Dpt">30620 Identity Access Management Dpt</option>
<option value="30623 Core Platform Conversion">30623 Core Platform Conversion</option>
<option value="30624 Data Development Dept">30624 Data Development Dept</option>
<option value="30650 Treasury Management Solutions">30650 Treasury Management Solutions</option>
<option value="30900 Service Delivery Division">30900 Service Delivery Division</option>
<option value="30901 Commercial Banking Group">30901 Commercial Banking Group</option>
<option value="30902 EOS-ATM Management">30902 EOS-ATM Management</option>
<option value="30905 Hawaii Region Office">30905 Hawaii Region Office</option>
<option value="30906 Maui Region Office">30906 Maui Region Office</option>
<option value="30907 Kauai Region Office">30907 Kauai Region Office</option>
<option value="30910 Guam & CNMI Region Office">30910 Guam & CNMI Region Office</option>
<option value="30950 Retail Banking Group">30950 Retail Banking Group</option>
<option value="31201 Human Resources Group">31201 Human Resources Group</option>
<option value="31202 Administrative Support">31202 Administrative Support</option>
<option value="31222 Workforce Services Division">31222 Workforce Services Division</option>
<option value="31501 Branch Properties Department">31501 Branch Properties Department</option>
<option value="31509 KIC Center">31509 KIC Center</option>
<option value="31519 Leasing Administration">31519 Leasing Administration</option>
<option value="35202 International Banking Dept">35202 International Banking Dept</option>
<option value="35203 Consumer Credit Products">35203 Consumer Credit Products</option>
<option value="35204 Retail Planning Department">35204 Retail Planning Department</option>
<option value="35210 Digital Banking & Services Div">35210 Digital Banking & Services Div</option>
<option value="35212 Omni Channel Center">35212 Omni Channel Center</option>
<option value="35220 Branch Banking Division">35220 Branch Banking Division</option>
<option value="35240 Retail Planning Division">35240 Retail Planning Division</option>
<option value="35245 Digital Service Center">35245 Digital Service Center</option>
<option value="35302 Marketing Communications Div">35302 Marketing Communications Div</option>
<option value="35311 Community Relations Division">35311 Community Relations Division</option>
<option value="35312 Sales, Service & Retail Train">35312 Sales, Service & Retail Train</option>
<option value="35316 Deposit Products Department">35316 Deposit Products Department</option>
<option value="35318 Credit Originations Dept">35318 Credit Originations Dept</option>
<option value="35335 Data Science & Analytics">35335 Data Science & Analytics</option>
<option value="35802 Consumer Credit Service Center">35802 Consumer Credit Service Center</option>
<option value="35805 Collection & Recovery Center">35805 Collection & Recovery Center</option>
<option value="35810 Consumer Loan Collections Dept">35810 Consumer Loan Collections Dept</option>
<option value="35815 Consumer Credit Center">35815 Consumer Credit Center</option>
<option value="35819 CRC Operations Department">35819 CRC Operations Department</option>
<option value="40301 Merchant Services Sales">40301 Merchant Services Sales</option>
<option value="40302 Merchant Services Department">40302 Merchant Services Department</option>
<option value="40303 Business Services Division">40303 Business Services Division</option>
<option value="40601 Controller's Division">40601 Controller's Division</option>
<option value="40650 FH Center">40650 FH Center</option>
<option value="41206 EOS-Bulk Mail">41206 EOS-Bulk Mail</option>
<option value="41217 IT Infrastr Departmt - Network">41217 IT Infrastr Departmt - Network</option>
<option value="41222 Application Mgmt-Channels">41222 Application Mgmt-Channels</option>
<option value="41225 IT Enterprise Services">41225 IT Enterprise Services</option>
<option value="41290 Application Management-Core">41290 Application Management-Core</option>
<option value="41300 Enterprise Ops Svcs Division">41300 Enterprise Ops Svcs Division</option>
<option value="41310 EOS-Service Center">41310 EOS-Service Center</option>
<option value="41320 EOS-Centralized Recon & Adjust">41320 EOS-Centralized Recon & Adjust</option>
<option value="41325 EOS-Retirement Savings">41325 EOS-Retirement Savings</option>
<option value="41350 EOS-Compliance Dept">41350 EOS-Compliance Dept</option>
<option value="41360 EOS-Hawaii Item Processing">41360 EOS-Hawaii Item Processing</option>
<option value="41370 EOS-ACH">41370 EOS-ACH</option>
<option value="41375 EOS-Lockbox">41375 EOS-Lockbox</option>
<option value="41390 EOS-Loss Prevention & Recovery">41390 EOS-Loss Prevention & Recovery</option>
<option value="41502 EOS-Print Shop">41502 EOS-Print Shop</option>
<option value="41801 Purchasing">41801 Purchasing</option>
<option value="45001 Trust Compliance Department">45001 Trust Compliance Department</option>
<option value="45002 Wealth Management Svc Center">45002 Wealth Management Svc Center</option>
<option value="45003 Trust Retirement Benefits">45003 Trust Retirement Benefits</option>
<option value="45004 Personal Trust Division">45004 Personal Trust Division</option>
<option value="45009 Trust Real Estate Services">45009 Trust Real Estate Services</option>
<option value="45016 Institutional Advisory Svcs">45016 Institutional Advisory Svcs</option>
<option value="45025 Wealth Management Group">45025 Wealth Management Group</option>
<option value="45030 WAD - FHA">45030 WAD - FHA</option>
<option value="46500 First Hawaiian Leasing, Inc.">46500 First Hawaiian Leasing, Inc.</option>
<option value="49785 WAD - General Agency">49785 WAD - General Agency</option>


</select>
  </label>
    <label class="label" for="applicable-account">Applicable Account<span class="tooltiptext">Input Full Account Number Affected</span></label>
    <input type="text" maxlength="16" class="input input-bordered" id="applicable-account" name="applicable" required>
    <label class="label" for="account-name">Account Name<span class="tooltiptext">Input Full Account Name Affected</span></label>
    <input type="text" name="account" class="input input-bordered" id="account-name" required>
    <label class="label" for="ssn-tin">SSN/TIN<span class="tooltiptext">Input Full 9 Digit SSN or TIN</span></label>
    <input type="text" maxlength="9" class="input input-bordered" name="ssn" id="ssn-tin" required>
  </div>
	</div>

	<h1 class="p-2 my-4 red-header border-b"><strong>ADMINISTRATION INFORMATION</strong></h1>
		<div class="form-control">
<div class="columns-4 drop-shadow-lg">
    <label class="label" for="date-of-transaction">Date of Transaction</label>
    <input type="date" class="input input-bordered max-w-fit" id="date-of-transaction" name="datetxn" required>
    <label class="label" for="date-discovered">Date Discovered</label>
    <input type="date" name="datediscovered" class="input input-bordered max-w-fit" id="date-discovered" required>
    <label class="label" for="indiv-res">Indiv. Responsible<span class="tooltiptext">Input Individual Responsible For Charge-Off, FHB Employee Included</span></label>
    <input type="text" class="input input-bordered max-w-fit" name="indivres" id="indiv-res" required>
	    <label class="label" for="employee">Employee # (6 digits) <span class="tooltiptext">If Individual Responsible Is a FHB Employee, Input Employee’s Number, Otherwise N/A</span></label>
    <input type="text" class="input input-bordered max-w-fit" name="employee" id="employee" required>
	 <label class="label" for="position">Position<span class="tooltiptext">Input Position Of Individual Responsible, FHB Employee Included, Otherwise Indicate Unknown or N/A</span></label>
    <input type="text" class="input input-bordered max-w-fit" id="position" name="position" required>
	 <label class="label" for="charge-off-amount">Charge Off 
 Amount<span class="tooltiptext">Input Charge-Off Amount At The Date Of Discovery</span></label>
	<input type="text" class="input input-bordered" id="charge-off-amount" name="chargeoffamount" pattern="^\$\d{1,3}(,\d{3})*(\.\d+)?$" value="" data-type="currency" placeholder="$1,000.00" required>
	 <label class="label" for="cashing-limit">Cashing Limit<span class="tooltiptext">If Individual Responsible Is a FHB Employee, Input Employee’s Cashing Limit, Otherwise N/A</span></label>
	<input type="text" class="input input-bordered" id="cashing-limit" name="cashinglimit" pattern="^\$\d{1,3}(,\d{3})*(\.\d+)?$" value="" data-type="currency" placeholder="$1,000.00" required>
  </div>
		</div>
			<h1 class="p-2 my-4 border-b red-header"><strong>OVERDRAFT CHARGE-OFFS/OTHER LOSSES CHARGE_OFFS</strong></h1>
	<p class="subtitle">Select type for relevant options to populate:
		<p class="subtitle">
<div class="container">
<div class="gap-x-5 flex justify-between py-3">
	<div>
		<label class="label" for="option-1">Charge-Off Type<span class="tooltiptext">Select Charge-Off Type</span></label>
	<select class="select select-primary fhb-outline-tertiary w-full max-w-xs" id="option-1" name="option1" required>
  <option disabled selected>Select type first</option>
	<option disabled>──────────</option>
  <option class="cat-1-key">Returned Checks</option>
  <option class="cat-1-key">Paid Overdraft</option>
  <option class="cat-1-key">Savings</option>
	<option disabled>──────────</option>
	<option class="cat-2-key">Check Card</option>
	<option disabled>──────────</option>
	<option class="cat-3-key">Loan Check</option>
	<option disabled>──────────</option>
	<option class="cat-4-key">Forged/Counterfeit Checks</option>
	<option disabled>──────────</option>
	<option class="cat-5-key">Miscellaneous</option>
	</select>
</div>
	<div>
	<label class="label" for="option-2">Charge-Off Options 1</label>
	<select class="select w-full fhb-outline-tertiary max-w-xs mb-3" id="option-2" name="option2">
  <option disabled selected></option>
		<option class="cat-1" disabled>──────────</option>
	  <option class="cat-1">Other Bank</option>
	  <option class="cat-1">On Us</option>
		<option class="cat-2" disabled>──────────</option>
		<option class="cat-2">Off-Line</option>
		<option class="cat-2">On-Line</option>
		<option class="cat-3" disabled>──────────</option>
		<option class="cat-3">Yes Check</option>
		<option class="cat-3">Convenience Check</option>
		<option class="cat-3">First Line</option>
		<option class="cat-3">Business First Line</option>
		<option class="cat-3">Pay Anyday</option>
		<option class="cat-3">Mortgage</option>
		<option class="cat-4" disabled>───────────</option>
		<option value="Maker" class="cat-4">Maker</option>
		<option value="Teller" class="cat-4">Teller</option>
		<option value="Endorser" class="cat-4">Endorser</option>
		<option value="Bulk Filing" class="cat-4">Bulk Filing</option>
		<option class="cat-5" disabled>───────────</option>
		<option class="cat-5">FRB Reclamations</option>
		<option class="cat-5">FRB Currency Shortage</option>
		<option class="cat-5">Robbery</option>
		<option class="cat-5">Counterfeit Currency</option>
		<option class="cat-5">Cash</option>
		<option disabled>──────────</option>
		<option class="other">Other</option>
	</select>
		<p class="subtitle" style="margin-top: 15px;" id="multiple-select-instructions">Select all that applies (hold CTRL to multi-select) </p>
		<div id="option-2-other" class="option-2-other pt-10">
			<label class="label" for="option-2-other-input">Charge-Off Options 1 - OTHER</label>
			<input class="input input-bordered max-w-fit pt-5" placeholder="Other details: " id="option-2-other-input" name="option2other" type="text">
  </label></div>
</div>
		

	<div>
		<label class="label" for="option-3">Charge-Off Options 2</label>
	<select class="select fhb-outline-tertiary w-full max-w-xs" id="option-3" name="option3">
  <option disabled selected></option>
	<option class="cat-1" disabled>──────────</option>
  <option class="cat-1">Code 85 Deposit Item</option>
  <option class="cat-1">Non-Code 85 Deposit Item</option>
	</select>
	</div>
		
	<div>
	<label class="label" for="option-4">Charge-Off Options 3</label>
	<select class="select fhb-outline-tertiary w-full max-w-xs" id="option-4" name="option4">
  <option disabled selected></option>
	<option class="cat-1" disabled>──────────</option>
  <option class="cat-1">Cashed Check</option>
  <option class="cat-1">Stop Pay</option>
  <option class="cat-1">FRB Reclamation</option>
  <option class="cat-1">Check Card</option>
	<option class="cat-1">ATM W/D</option>
	<option class="cat-1">ATM Deposit</option>
	<option class="cat-1">NSF</option>
	<option class="cat-1">Refer To Maker</option>
	<option class="cat-1">Account Closed</option>
	<option class="cat-1 other">Other</option>
	</select>
	<div id="option-4-other" class="option-4-other pt-10">
		<label class="label" for="option-4-other-input">Charge-Off Options 3 - OTHER</label>
		<input placeholder="Other details.." id="option-4-other-input" type="text" class="input input-bordered max-w-fit pt-5" name="option4other"></div>
	</div>
	</div>
</div>
		
	<h1 class="p-2 my-4 border-b red-header"><strong>CHECK INFORMATION</strong></h1>
	<div class="row">
	<div class="form-control">
	<div class="columns-4 drop-shadow-lg my-5 py-5">
     <label class="label" for="check-info-maker">Maker:</label>
    <input type="text" class="input input-bordered max-w-fit" name="checkinfomaker" id="check-info-maker" required>

		 <label class="label" for="check-info-payee">Payee:</label>
    <input type="text" class="input input-bordered max-w-fit" name="checkinfopayee" id="check-info-payee" required>
		
    <label class="label" for="check-info-drawn-on">Drawn On:</label>
    <input type="text" class="input input-bordered max-w-fit" name="checkinfodrawnon" id="check-info-drawn-on" required>
	  </div>
	</div>
	</div>
		<div class="row">
		<div class="form-control">
	<div class="columns-4 drop-shadow-lg mt-5 py-5">
		<label class="label" for="check-info-og-amount">Original Amount:</label>
		<input type="text" name="checkinfoogamount" id="check-info-og-amount" pattern="^\$\d{1,3}(,\d{3})*(\.\d+)?$" value="" data-type="currency" placeholder="$1,000.00"
  class="input input-bordered max-w-fit" required>
		<label class="label" for="check-info-plus-expenses">Plus Expenses(+):</label>
    		<input type="text" name="checkinfoplusexpenses" id="check-info-plus-expenses" pattern="^\$\d{1,3}(,\d{3})*(\.\d+)?$" value="" data-type="currency" placeholder="$1,000.00" class="input input-bordered max-w-fit" required>
<label class="label" for="check-info-less-recoveries">Less Recoveries(-):</label>
<input type="text" name="checkinfolessrecoveries" id="check-info-less-recoveries" pattern="^\$\d{1,3}(,\d{3})*(\.\d+)?$" value="" data-type="currency" placeholder="$1,000.00" class="input input-bordered max-w-fit" required>
		<label class="label" for="check-info-net-chargeoff">Net Charge-Off:</label>
		<input type="text" name="checkinfonetchargeoff" id="check-info-net-chargeoff" pattern="^\$\d{1,3}(,\d{3})*(\.\d+)?$" value="" data-type="currency" placeholder="$1,000.00" class="input input-bordered max-w-fit" required>
	</div>
	</div>
		</div>

		<div class="row">
			<h1 class="p-2 my-4 border-b red-header"><strong>COMMENTS</strong></h1>
			<p class="subtitle">comment boxes can be expanded by dragging the bottom-right. Character limit: 950.</p>
			<div class="form-control">
				<div class="container">
			<div class="gap-x-5 flex justify-around drop-shadow-lg mt-5 py-5 py-3">
				<label for="indiv-comments" class="label">Individual Responsible Comments<span class="tooltiptext">Input Individual Responsible Comments, Otherwise Indicate No Comment</span></label>
			<textarea class="input input-bordered max-w-fit" rows="8" cols="100" maxlength="950" id="indiv-comments" name="indivcomments" placeholder="Comments By Individual Responsible"></textarea>
				<label for="indiv-comments" class="label">Supervisor Comments<span class="tooltiptext">Input Supervisor Comments </span></label>
			<textarea class="input input-bordered max-w-fit" rows="8" cols="100" maxlength="950" id="supervisor-comments" name="supervisorcomments" placeholder="Comments By Supervisor"></textarea>
		</div>
			</div>
		</div>
				<!-- Table remains empty.  Data is filled out in form and submission will inject the information into the table element for user to review data and capture the table with their data (copy paste) -->
<div class="container-fluid pt-10">
<div class="overflow-x-auto">


</div>
</div>
	</div>
	</div>
	
	<button id="submit-form" class="btn btn-outline btn-primary rounded-lg drop-shadow-lg" type="submit" disabled>Download & Submit</button>

  </form>

<div class="container-fluid border-b mb-5 p-5"></div>
		<div class="container">
			<p class="subtitle"><strong>Instructions:</strong> First, generate table to preview your data entry, then copy data to clipboard, which can be pasted into an email directly (and it will retain the table styling)</p>
			<p class="subtitle">Once you are ready, hit download and submit and one copy will be downloaded and the other will be stored.  Thank you. </p>
		<button type="button" id="generate-table" class="btn btn-outline btn-primary rounded-lg drop-shadow-lg mx-5 my-5">Generate Table</button>
		<button id="copyBtn" type="button" class="btn btn-outline btn-secondary rounded-lg drop-shadow-lg mx-5 my-5" value="copy" disabled>Copy Data to Clipboard</button>
	</div>
		
<table id="table" class="table table-zebra w-full rounded-lg drop-shadow-lg">
</table>
		</div>
<!-- user scripts in here -->

		

		  <script>
function downloadPDF() {

	const longStringIndividual = individualComments
	const longStringSupervisor = supervisorComments

	const modifiedIndividualComments = insertLineBreaks(longStringIndividual);
	const modifiedSupervisorComments = insertLineBreaks(longStringSupervisor);
	function insertLineBreaks(str) {
		let result = "";
		let index = 0;

		while (index < str.length) {
			if (index + 90 >= str.length) {
				result += str.substring(index);
				break;
			} else {
				let spaceIndex = str.lastIndexOf(" ", index + 90);
				if (spaceIndex !== -1) {
					result += str.substring(index, spaceIndex) + "\n";
					index = spaceIndex + 1;
				} else {
					result += str.substring(index, index + 90) + "\n";
					index += 90;
				}
			}
		}

		return result;
	}

	var doc = new jsPDF()
	doc.setFontSize(18);
	doc.text('MULTI-PURPOSE CHARGE-OFF REQUEST FORM', 28, 22);
	doc.setFontSize(10);
	doc.setLineWidth(0.5);
	doc.line(14, 26, 196, 26);
	doc.text(20, 29, '');
	doc.text(20, 32, locationVal)
	doc.text(150, 32, timeStamp)
	doc.setFontSize(11);
	doc.setTextColor('#000');
	doc.setFont("Helvetica", "bold");
	doc.text(27, 62, 'APPLICABLE ACCOUNT: ')
	doc.setFont("Helvetica", "normal");
	doc.text(105, 62, appAccountVal);
	doc.setLineWidth(0.07)
	doc.line(27, 63, 180, 63)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 69, 'ACCOUNT NAME: ')
	doc.setFont("Helvetica", "normal");
	doc.text(105, 69, accountNameVal);
	doc.line(27, 70, 180, 70)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 76, 'SSN/TIN: ');
	doc.setFont("Helvetica", "normal");
	doc.text(105, 76, ssnTinVal);
	doc.line(27, 78, 180, 78)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 83, 'DATE OF TRANSACTION: ');
	doc.setFont("Helvetica", "normal");
	doc.text(105, 83, dateOfTxnVal);
	doc.line(27, 84, 180, 84)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 90, 'DATE DISCOVERED: ')
	doc.setFont("Helvetica", "normal");
	doc.text(105, 90, dateOfDiscVal)
	doc.line(27, 91, 180, 91)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 97, 'INDIVIDUAL RESPONSIBILE: ')
	doc.setFont("Helvetica", "normal");
	doc.text(105, 97, indivResVal)
	doc.line(27, 98, 180, 98)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 104, 'EMPLOYEE: ');
	doc.setFont("Helvetica", "normal");
	doc.text(105, 104, employeeVal);
	doc.line(27, 105, 180, 105)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 111, 'POSITION: ')
	doc.setFont("Helvetica", "normal");
	doc.text(105, 111, positionVal)
	doc.line(27, 112, 180, 112)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 118, 'CASHING LIMIT: ');
	doc.setFont("Helvetica", "normal");
	doc.text(105, 118, cashingLimitVal);
	doc.line(27, 119, 180, 119)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 125, 'CHARGE-OFF AMOUNT: ');
	doc.setFont("Helvetica", "normal");
	doc.text(105, 125, chargeOffAmountVal);
	doc.line(27, 126, 180, 126)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 132, 'CHARGE-OFF TYPE: ');
	doc.setFont("Helvetica", "normal");
	doc.text(105, 132, dropdownOpt1Val);
	doc.line(27, 133, 180, 133)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 139, 'CHARGE-OFF OPTION 1: ');
	doc.setFont("Helvetica", "normal");
	doc.text(105, 139, dropdownOpt2Val.toString());
	doc.line(27, 140, 180, 140)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 146, 'CHARGE-OFF OPTION 1 - OTHER: ');
	doc.setFont("Helvetica", "normal");
	doc.text(105, 146, dropdownOpt2OtherVal);
	doc.line(27, 147, 180, 147)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 153, 'CHARGE-OFF OPTION 2: ');
	doc.setFont("Helvetica", "normal");
	doc.text(105, 153, dropdownOpt3Val);
	doc.line(27, 154, 180, 154)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 160, 'CHARGE-OFF OPTION 3: ')
	doc.setFont("Helvetica", "normal");
	doc.text(105, 160, dropdownOpt4Val)
	doc.line(27, 161, 180, 161)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 167, 'CHARGE-OFF OPTION 3 - OTHER: ')
	doc.setFont("Helvetica", "normal");
	doc.text(105, 167, dropdownOpt4OtherVal)
	doc.line(27, 168, 180, 168)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 174, 'CHECK INFO - MAKER: ')
	doc.setFont("Helvetica", "normal");
	doc.text(105, 174, checkInfoMakerVal)
	doc.line(27, 175, 180, 175)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 181, 'CHECK INFO - PAYEE: ')
	doc.setFont("Helvetica", "normal");
	doc.text(105, 181, checkInfoPayeeVal)
	doc.line(27, 182, 180, 182)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 188, 'CHECK INFO - DRAWN ON: ')
	doc.setFont("Helvetica", "normal");
	doc.text(105, 188, checkInfoDrawnOnVal)
	doc.line(27, 189, 180, 189)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 195, 'CHECK INFO - ORIGINAL AMOUNT: ')
	doc.setFont("Helvetica", "normal");
	doc.text(105, 195, checkInfoOgAmountVal)
	doc.line(27, 196, 180, 196)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 202, 'CHECK INFO - EXPENSES: ')
	doc.setFont("Helvetica", "normal");
	doc.text(105, 202, checkInfoExpensesVal)
	doc.line(27, 203, 180, 203)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 209, 'CHECK INFO - RECOVERIES: ')
	doc.setFont("Helvetica", "normal");
	doc.text(105, 209, checkInfoRecoveriesVal)
	doc.line(27, 210, 180, 210)
	doc.setFont("Helvetica", "bold");
	doc.text(27, 216, 'CHECK INFO - NET C/O: ')
	doc.setFont("Helvetica", "normal");
	doc.text(105, 216, checkInfoNetCoVal)
	doc.line(27, 217, 180, 217)
	doc.addPage();
	doc.setFontSize(16);
	doc.text(15, 22, 'INDIVIDUAL RESPONSIBLE COMMENTS: ')
	doc.setLineWidth(0.5);
	doc.line(14, 26, 196, 26);
	doc.setFontSize(11);
	doc.text(20, 35, modifiedIndividualComments)
	doc.setFontSize(16);
	doc.text(15, 130, 'SUPERVISOR COMMENTS: ')
	doc.setLineWidth(0.5);
	doc.line(14, 135, 196, 135);
	doc.setFontSize(11);
	doc.text(20, 145, modifiedSupervisorComments)
	doc.save('multi-purpose-charge-off-req-form.pdf')
}
// PDF Generation Ends

function selectTable() {
	const table = document.getElementById("table");
	const range = document.createRange();
	range.selectNode(table);
	window.getSelection().removeAllRanges();
	window.getSelection().addRange(range);
}

function copyToClipboard() {
	selectTable();
	document.execCommand("copy");
	window.getSelection().removeAllRanges();
}

const copyTableBtn = document.getElementById("copyBtn");
copyTableBtn.addEventListener("click", copyToClipboard);
// end copy table

const formListener = document.getElementById("form");

formListener.addEventListener("submit", function(event) {
	if (!formListener.checkValidity()) {
		// If the form is invalid, prevent the submission and display an error message
		alert('Please fill out all required fields.');
		event.preventDefault(); // Prevents the form from submitting normally
	}
	downloadPDF(); // downloads and submits form at the same time for data persistance 
	formListener.submit(); // Submits the form programmatically
});

let todaysDate = new Date()
document.querySelector('#current-time').innerHTML = todaysDate

let timeStamp, locationVal, appAccountVal, accountNameVal, ssnTinVal, dateOfTxnVal, dateOfDiscVal, indivResVal, employeeVal, positionVal, chargeOffAmountVal, cashingLimitVal, dropdownOpt1Val, dropdownOpt2Val, dropdownOpt2OtherVal, dropdownOpt4OtherVal, dropdownOpt3Val, dropdownOpt4Val, checkInfoMakerVal, checkInfoPayeeVal, checkInfoDrawnOnVal,
	checkInfoOgAmountVal, checkInfoExpensesVal, checkInfoRecoveriesVal, checkInfoNetCoVal, individualComments, supervisorComments;
function getData() {
	timeStamp = new Date().toLocaleString()
	locationVal = document.getElementById('location-select').value
	appAccountVal = document.getElementById('applicable-account').value
	accountNameVal = document.getElementById('account-name').value
	ssnTinVal = document.getElementById('ssn-tin').value
	dateOfTxnVal = document.getElementById('date-of-transaction').value
	dateOfDiscVal = document.getElementById('date-discovered').value
	indivResVal = document.getElementById('indiv-res').value
	employeeVal = document.getElementById('employee').value
	positionVal = document.getElementById('position').value
	chargeOffAmountVal = document.getElementById('charge-off-amount').value
	cashingLimitVal = document.getElementById('cashing-limit').value
	dropdownOpt1Val = document.getElementById('option-1').value
	dropdownOpt2Val = $('#option-2').val()
	dropdownOpt2OtherVal = document.getElementById('option-2-other-input').value
	dropdownOpt4OtherVal = document.getElementById('option-4-other-input').value
	dropdownOpt3Val = document.getElementById('option-3').value
	dropdownOpt4Val = document.getElementById('option-4').value
	checkInfoMakerVal = document.getElementById('check-info-maker').value
	checkInfoPayeeVal = document.getElementById('check-info-payee').value
	checkInfoDrawnOnVal = document.getElementById('check-info-drawn-on').value
	checkInfoOgAmountVal = document.getElementById('check-info-og-amount').value
	checkInfoExpensesVal = document.getElementById('check-info-plus-expenses').value
	checkInfoRecoveriesVal = document.getElementById('check-info-less-recoveries').value
	checkInfoNetCoVal = document.getElementById('check-info-net-chargeoff').value
	individualComments = document.getElementById('indiv-comments').value
	supervisorComments = document.getElementById('supervisor-comments').value
	const insertTable = document.getElementById('table')
	insertTable.innerHTML = `
	<colgroup>
    <col width="40%">
    <col width="60%">
  </colgroup>
		<thead>
		<tr>
		<th>Time</th>
		<td id="time-cell">${timeStamp}</td>
		</tr>
		<tr>
		<th>Location</th>
		<td id="location-cell">${locationVal}</td>
	</tr>
		<tr>
		<th>Applicable Account</th>
		<td id="applicable-cell">${appAccountVal}</td>
</tr>
		<tr>
		<th>Account Name</th>
		<td id="account-cell">${accountNameVal}</td>
</tr>
		<tr>
		<th>SSN/TIN</th>
		<td id="ssn-cell">${ssnTinVal}</td>
	</tr>
		<tr>
		<th>Date of Transaction</th>
		<td id="DoT-cell">${dateOfTxnVal}</td>
	</tr>
		<tr>
		<th>Date Discovered</th>
	  <td id="DoD-cell">${dateOfDiscVal}</td>
	 </tr>
		<tr>
		<th>Individual Responsibile</th>
		<td id="ir-cell">${indivResVal}</td>
</tr>
		<tr>
		<th>Employee</th>
		<td id="employee-cell">${employeeVal}</td>
	</tr>
		<tr>
		<th>Position</th>
		<td id="position-cell">${positionVal}</td>
	</tr>
		<tr>
		<th>Charge-Off Amount</th>
		<td id="charge-off-cell">${chargeOffAmountVal}</td>
	</tr>
		<tr>
		<th>Cashing Limit</th>
		<td id="cashing-limit-cell">${cashingLimitVal}</td>
	</tr>
		<tr>
		<th>CHARGE-OFF TYPE:</th>
		<td id="co-type-cell">${dropdownOpt1Val}</td>
	</tr>
		<tr>
		<th>CHARGE-OFF OPTION 1:</th>
		<td id="option1-cell">${dropdownOpt2Val}</td>
	</tr>
 <tr>
 <th>CHARGE-OFF OPTION 1 - OTHER:</th>
 <td id="option1-other-cell">${dropdownOpt2OtherVal}</td>
</tr>
		<tr>
		<th>CHARGE-OFF OPTION 2:</th>
		<td id="option2-cell">${dropdownOpt3Val}</td>
		</tr>
	<tr>
		<th>CHARGE-OFF OPTION 3</th>
		<td id="option3-cell">${dropdownOpt4Val}</td>
	</tr>
 <tr>
		<th>CHARGE-OFF OPTION 3 - OTHER</th>
		<td id="option3-other-cell">${dropdownOpt4OtherVal}</td>
	</tr>
 <tr>
		<th>CHECK INFO - Maker: </th>
		<td id="ci-maker-cell">${checkInfoMakerVal}</td>
	</tr>
 <tr>
		<th>CHECK INFO - Payee</th>
		<td id="ci-payee-cell">${checkInfoPayeeVal}</td>
	</tr>
 <tr>
		<th>CHECK INFO - Drawn On: </th>
		<td id="ci-drawnon-cell">${checkInfoDrawnOnVal}</td>
	</tr>
 <tr>
		<th>CHECK INFO - Original Amount:</th>
		<td id="ci-ogamount-cell">${checkInfoOgAmountVal}</td>
	</tr>
 <tr>
		<th>CHECK INFO - Plus Expenses</th>
		<td id="ci-expense-cell">${checkInfoExpensesVal}</td>
	</tr>
 <tr>
		<th>CHECK INFO - Less Recoveries:</th>
		<td id="ci-recoveries-cell">${checkInfoRecoveriesVal}</td>
	</tr>
 <tr>
		<th>CHECK INFO - Net Charge-Off</th>
		<td id="ci-netco-cell">${checkInfoNetCoVal}</td>
	</tr>
 <tr>
		<th>Individual's Comments:</th>
		<td id="indiv-comment-cell">${individualComments}</td>
	</tr><tr>
		<th>Supervisor's Comments:</th>
		<td id="sup-comment-cell">${supervisorComments}</td>
	</tr>
  `

	setTimeout(function() {
		$('#copyBtn').removeAttr("disabled")
	}, 1500)

	setTimeout(function() {
		$('#submit-form').removeAttr("disabled")
	}, 3000)
}

function validateForm() {
	for (let i = 0; i < 23; i++) {
		let validateContent = document.forms["form"][i].value
		let validateName = document.getElementsByClassName('label')[i].innerText

		if (i == 13 || i == 14 || i == 15 || i == 16) {
			continue;
		}
		if (validateContent == "") {
			alert(`${validateName} needs to be filled`);
			return false;
			break;
		}

	}
	getData();
}
$('#generate-table').on('click', function() {

	validateForm()

})

// Monitor dropdown selections to filter out available secondary and tertiary options
$('#option-1').change(function() {
	if ($('#option-1 :selected').attr('class') == 'cat-1-key') {
		$('.cat-2, .cat-3, .cat-4, .cat-5').hide()
		$('.cat-1').show()
		$('#multiple-select-instructions').hide()
	}
	if ($('#option-1 :selected').attr('class') == 'cat-2-key') {
		$('.cat-1, .cat-3, .cat-4, .cat-5').hide()
		$('.cat-2').show()
		$('#multiple-select-instructions').hide()

	}
	if ($('#option-1 :selected').attr('class') == 'cat-3-key') {
		$('.cat-1, .cat-2, .cat-4, .cat-5').hide()
		$('.cat-3').show()
		$('#multiple-select-instructions').hide()

	}
	if ($('#option-1 :selected').attr('class') == 'cat-4-key') {
		$('.cat-1, .cat-3, .cat-2, .cat-5').hide()
		$('.cat-4').show()
		$('#multiple-select-instructions').show()

	}
	if ($('#option-1 :selected').attr('class') == 'cat-5-key') {
		$('.cat-1, .cat-3, .cat-4, .cat-2').hide()
		$('.cat-5').show()
		$('#multiple-select-instructions').hide()

	}
})

// Whenever option 1 is changed, it resets all other options
$('#option-1').change(function() {
	$('#option-2, #option-3, #option-4').val([])
	$('#option-2-other').hide()
	$('#option-4-other').hide()
})

// option 2 & 4 other box
$('#option-2').change(function() {
	if ($('#option-2 :selected').attr('class') == 'other') {
		$('#option-2-other').hide()
		$('#option-2-other').show()
		$('#multiple-select-instructions').hide()
		$('#option-2').removeAttr('multiple')
	}
	if ($('#option-2 :selected').attr('class') !== 'other') {
		$('#option-2-other').show()
		$('#option-2-other').hide()


	}
	if ($('#option-2 :selected').attr('class') == 'cat-4') {
		$('#option-2').attr('multiple', 'multiple')
	} else {
		$('#option-2').removeAttr('multiple')
	}
})

$('#option-4').change(function() {
	if ($('#option-4 :selected').attr('class') == 'cat-1 other') {
		$('#option-4-other').hide()
		$('#option-4-other').show()
	}
	if ($('#option-4 :selected').attr('class') !== 'cat-1 other') {
		$('#option-4-other').show()
		$('#option-4-other').hide()
	}
})

// Currency formatting

// Jquery Dependency

$("input[data-type='currency']").on({
	keyup: function() {
		formatCurrency($(this));
	},
	blur: function() {
		formatCurrency($(this), "blur");
	}
});


function formatNumber(n) {
	// format number 1000000 to 1,234,567
	return n.replace(/\D/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ",")
}


function formatCurrency(input, blur) {
	// appends $ to value, validates decimal side
	// and puts cursor back in right position.

	// get input value
	var input_val = input.val();

	// don't validate empty input
	if (input_val === "") { return; }

	// original length
	var original_len = input_val.length;

	// initial caret position 
	var caret_pos = input.prop("selectionStart");

	// check for decimal
	if (input_val.indexOf(".") >= 0) {

		// get position of first decimal
		// this prevents multiple decimals from
		// being entered
		var decimal_pos = input_val.indexOf(".");

		// split number by decimal point
		var left_side = input_val.substring(0, decimal_pos);
		var right_side = input_val.substring(decimal_pos);

		// add commas to left side of number
		left_side = formatNumber(left_side);

		// validate right side
		right_side = formatNumber(right_side);

		// On blur make sure 2 numbers after decimal
		if (blur === "blur") {
			right_side += "00";
		}

		// Limit decimal to only 2 digits
		right_side = right_side.substring(0, 2);

		// join number by .
		input_val = "$" + left_side + "." + right_side;

	} else {
		// no decimal entered
		// add commas to number
		// remove all non-digits
		input_val = formatNumber(input_val);
		input_val = "$" + input_val;

		// final formatting
		if (blur === "blur") {
			input_val += ".00";
		}
	}

	// send updated string to input
	input.val(input_val);

	// put caret back in the right position
	var updated_len = input_val.length;
	caret_pos = updated_len - original_len + caret_pos;
	input[0].setSelectionRange(caret_pos, caret_pos);
}
	</script>
   
				</body>
</html>
